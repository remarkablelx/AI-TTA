# Routes层架构说明

## 📂 文件夹概述
本目录包含Flask应用的路由层实现，采用 **蓝图(Blueprint)** 机制将不同业务模块的路由进行拆分管理。这种设计实现了路由的模块化组织，提高了代码可维护性和可扩展性。

## 🧩 模块划分
共包含6个独立蓝图文件，每个文件对应一个核心业务模块：

1. **管理员模块** (`admin.py`)  
   提供管理员专属功能：登录验证、用户管理、记录筛选等后台操作接口

2. **记录模块** (`record.py`)  
   处理视频分析记录的生命周期管理：创建记录、查询记录、状态更新等核心功能

3. **报告模块** (`report.py`)  
   负责分析报告的生成、查询与维护，支持JSON格式报告的动态创建与传输

4. **结果模块** (`result.py`)  
   管理视频分析结果文件，包括轨迹数据、姿态视频等多媒体文件的存储与获取

5. **用户模块** (`user.py`)  
   实现用户系统全功能：注册登录、资料管理、头像设置等终端用户操作

6. **视频模块** (`video.py`)  
   处理视频文件的上传、元数据管理和存储路径配置等视频相关操作

## ⚙️ 设计特点
- **标准化请求处理**  
  所有接口统一使用POST请求接收JSON格式参数，保持API风格一致性

- **分层架构**  
  路由层仅负责请求分发，业务逻辑委托给`services`层处理，符合MVC设计原则

- **文件传输优化**  
  多媒体接口采用分块传输(conditional)和ETag验证，提升大文件传输效率

- **安全防护**  
  关键操作(如密码修改)强制要求验证码二次验证，防止未授权访问

## 📡 接口规范
- 响应统一采用JSON格式：`{"code":"状态码", "message":"描述", "data":...}`
- 错误代码规范：`0`=成功, `-1`=失败
- 文件类接口自动检测MIME类型，支持MP4/MOV/AVI等主流格式

> 注：实际业务逻辑由`services`层实现，本层仅负责API路由定义和请求响应处理